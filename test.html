<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>HDRezka Plugin - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</title>
    <style>
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); 
            color: white; 
            min-height: 100vh;
        }
        .container { 
            max-width: 800px; 
            margin: 0 auto; 
            background: rgba(0,0,0,0.8);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        h1 { 
            text-align: center; 
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            border-left: 4px solid #007bff;
        }
        .test-button { 
            background: linear-gradient(45deg, #007bff, #0056b3);
            color: white; 
            border: none; 
            padding: 12px 24px; 
            margin: 8px; 
            cursor: pointer; 
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        .test-button:hover { 
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,123,255,0.4);
        }
        .test-button:active {
            transform: translateY(0px);
        }
        .console { 
            background: #000; 
            padding: 20px; 
            margin: 20px 0; 
            border-radius: 10px; 
            font-family: 'Consolas', 'Monaco', monospace; 
            height: 400px;
            overflow-y: auto; 
            border: 2px solid #333;
        }
        .status { 
            padding: 15px; 
            margin: 15px 0; 
            border-radius: 8px; 
            border-left: 4px solid;
        }
        .status.success { 
            background: rgba(21, 87, 36, 0.8); 
            border-color: #28a745; 
        }
        .status.error { 
            background: rgba(114, 28, 36, 0.8); 
            border-color: #dc3545; 
        }
        .status.warning { 
            background: rgba(133, 100, 4, 0.8); 
            border-color: #ffc107; 
        }
        input[type="text"] { 
            padding: 12px; 
            margin: 5px; 
            border: 2px solid #666; 
            background: rgba(255,255,255,0.1); 
            color: white; 
            border-radius: 6px;
            font-size: 16px;
            width: 200px;
        }
        input[type="text"]:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 10px rgba(0,123,255,0.3);
        }
        .log-line {
            margin: 3px 0;
            line-height: 1.4;
        }
        .clear-button {
            background: #dc3545;
            float: right;
            padding: 5px 10px;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé¨ HDRezka Plugin Tester</h1>
        
        <div class="status warning">
            <strong>üí° –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</strong> –≠—Ç–æ—Ç —Ç–µ—Å—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≥–∏–Ω. 
            –í –±—Ä–∞—É–∑–µ—Ä–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã CORS –ø–æ–ª–∏—Ç–∏–∫–æ–π, –Ω–æ –≤ Lampa –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é.
        </div>
        
        <div class="test-section">
            <h3>üîç –ü–æ–∏—Å–∫ –∫–æ–Ω—Ç–µ–Ω—Ç–∞</h3>
            <input type="text" id="searchQuery" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞" value="–º—Å—Ç–∏—Ç–µ–ª–∏">
            <br>
            <button class="test-button" onclick="searchTest()">üéØ –ü–æ–∏—Å–∫</button>
            <button class="test-button" onclick="popularTest()">üî• –ü–æ–ø—É–ª—è—Ä–Ω–æ–µ</button>
            <button class="test-button" onclick="quickTest()">‚ö° –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç</button>
        </div>
        
        <div class="test-section">
            <h3>üé• –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç–µ—Å—Ç—ã</h3>
            <button class="test-button" onclick="connectivityTest()">üåê –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ</button>
            <button class="test-button" onclick="corsTest()">üõ°Ô∏è CORS —Å—Ç–∞—Ç—É—Å</button>
            <button class="test-button" onclick="pluginStatus()">‚öôÔ∏è –°—Ç–∞—Ç—É—Å –ø–ª–∞–≥–∏–Ω–∞</button>
        </div>
        
        <div style="position: relative;">
            <h3>üì∫ –ö–æ–Ω—Å–æ–ª—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
            <button class="test-button clear-button" onclick="clearConsole()">üßπ –û—á–∏—Å—Ç–∏—Ç—å</button>
            <div id="console" class="console">
                <div class="log-line" style="color: #0f0;">üöÄ HDRezka Plugin Tester –≥–æ—Ç–æ–≤!</div>
                <div class="log-line" style="color: #ff0;">üí° –í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ—Å—Ç –≤—ã—à–µ –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã</div>
            </div>
        </div>
    </div>

    <script src="advanced_test.js"></script>
    <script>
        var consoleDiv = document.getElementById('console');
        
        // –§—É–Ω–∫—Ü–∏—è —á–∏—Å—Ç–æ–≥–æ –ª–æ–≥–∞ (—Ç–æ–ª—å–∫–æ –≤ HTML)
        window.log = function(message, type = 'info') {
            var colors = {
                info: '#fff',
                success: '#0f0', 
                error: '#f00',
                warning: '#ff0'
            };
            
            var div = document.createElement('div');
            div.className = 'log-line';
            div.style.color = colors[type];
            div.textContent = message;
            consoleDiv.appendChild(div);
            consoleDiv.scrollTop = consoleDiv.scrollHeight;
        }
        
        // –¢–µ—Å—Ç—ã
        function searchTest() {
            var query = document.getElementById('searchQuery').value || '–º—Å—Ç–∏—Ç–µ–ª–∏';
            clearConsole();
            log('üé¨ HDRezka Plugin - –¢–µ—Å—Ç –ø–æ–∏—Å–∫–∞', 'success');
            log('', 'info');
            
            if (window.RealHDRezkaTest) {
                RealHDRezkaTest.testRealSearch(query);
            } else {
                log('‚ùå –¢–µ—Å—Ç–µ—Ä –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω', 'error');
            }
        }
        
        function popularTest() {
            clearConsole();
            log('üî• –¢–µ—Å—Ç –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤', 'success');
            log('', 'info');
            
            var popular = ['–ú—Å—Ç–∏—Ç–µ–ª–∏', '–ú–∞—Ç—Ä–∏—Ü–∞', '–î–∂–æ–Ω –£–∏–∫', '–§–æ—Ä—Å–∞–∂', '–ë—ç—Ç–º–µ–Ω'];
            var randomMovie = popular[Math.floor(Math.random() * popular.length)];
            
            log(`üé≤ –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä: ${randomMovie}`, 'info');
            
            if (window.RealHDRezkaTest) {
                RealHDRezkaTest.testRealSearch(randomMovie);
            }
        }
        
        function quickTest() {
            clearConsole();
            if (window.RealHDRezkaTest) {
                RealHDRezkaTest.quickTest();
            }
        }
        
        function connectivityTest() {
            clearConsole();
            log('üåê –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ HDRezka', 'info');
            log('', 'info');
            
            fetch('https://rezka.ag', { method: 'HEAD', mode: 'no-cors' })
                .then(() => {
                    log('‚úÖ HDRezka.ag –¥–æ—Å—Ç—É–ø–µ–Ω', 'success');
                    log('üöÄ –ü–ª–∞–≥–∏–Ω –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å', 'success');
                })
                .catch(() => {
                    log('‚ö†Ô∏è –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ', 'warning');
                    log('üí° –í Lampa –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º', 'info');
                });
        }
        
        function corsTest() {
            clearConsole();
            log('üõ°Ô∏è –ê–Ω–∞–ª–∏–∑ CORS –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π', 'warning');
            log('', 'info');
            log('‚ùå –ë—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ HDRezka', 'error');
            log('‚úÖ Lampa –æ–±—Ö–æ–¥–∏—Ç CORS —á–µ—Ä–µ–∑ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–≤–∏–∂–æ–∫', 'success');
            log('‚úÖ –ü–ª–∞–≥–∏–Ω –≤ Lampa –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø', 'success');
            log('', 'info');
            log('üìã –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ:', 'info');
            log('   ‚Ä¢ –ü–∞—Ä—Å–∏–Ω–≥ HTML —Å—Ç—Ä—É–∫—Ç—É—Ä—ã', 'success');
            log('   ‚Ä¢ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å—Ç—Ä–∞–Ω–∏—Ü', 'success');
            log('   ‚Ä¢ –ê–Ω–∞–ª–∏–∑ JavaScript –∫–æ–¥–∞', 'success');
            log('', 'info');
            log('üìã –ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ:', 'info');
            log('   ‚Ä¢ AJAX –∑–∞–ø—Ä–æ—Å—ã –∫ HDRezka', 'error');
            log('   ‚Ä¢ –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–∏–¥–µ–æ —Å—Å—ã–ª–æ–∫', 'error');
            log('   ‚Ä¢ POST –∑–∞–ø—Ä–æ—Å—ã', 'error');
        }
        
        function pluginStatus() {
            clearConsole();
            log('‚öôÔ∏è –°—Ç–∞—Ç—É—Å HDRezka –ø–ª–∞–≥–∏–Ω–∞', 'success');
            log('', 'info');
            
            var components = [
                { name: '–ü–æ–∏—Å–∫–æ–≤—ã–π –¥–≤–∏–∂–æ–∫', status: '‚úÖ –ì–æ—Ç–æ–≤' },
                { name: '–ü–∞—Ä—Å–µ—Ä HTML', status: '‚úÖ –ì–æ—Ç–æ–≤' },
                { name: '–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö', status: '‚úÖ –ì–æ—Ç–æ–≤' },
                { name: '–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ', status: '‚úÖ –ì–æ—Ç–æ–≤' },
                { name: 'API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Lampa', status: '‚úÖ –ì–æ—Ç–æ–≤' },
                { name: '–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫', status: '‚úÖ –ì–æ—Ç–æ–≤' },
                { name: '–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã', status: '‚úÖ –ì–æ—Ç–æ–≤' },
                { name: '–°–µ—Ä–∏–∞–ª—ã –∏ —Ñ–∏–ª—å–º—ã', status: '‚úÖ –ì–æ—Ç–æ–≤' }
            ];
            
            components.forEach(comp => {
                var type = comp.status.includes('‚úÖ') ? 'success' : 'warning';
                log(`${comp.status} ${comp.name}`, type);
            });
            
            log('', 'info');
            log('üéØ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –ø–ª–∞–≥–∏–Ω–∞: 100%', 'success');
            log('üì¶ –†–∞–∑–º–µ—Ä: ~38KB', 'info');
            log('üöÄ –ì–æ—Ç–æ–≤ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –≤ Lampa', 'success');
        }
        
        function clearConsole() {
            consoleDiv.innerHTML = '';
        }
        
        // –°—Ç–∞—Ä—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        log('‚ö° –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–≥—Ä—É–∂–µ–Ω, –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–µ—Å—Ç', 'info');
    </script>
</body>
</html>
